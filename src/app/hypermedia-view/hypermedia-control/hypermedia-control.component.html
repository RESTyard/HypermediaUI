<mat-toolbar class="headerMenue" color="primary">
  <mat-icon class="appIcon">signpost</mat-icon>
  <span [innerText]="title"></span>
  <span class="spacer"></span>
  @if (GeneralSettings.showHostInformation && IsInsecureConnection) {
    <mat-icon id="IsInsecureConnectionIcon" matTooltip="The connection is unencrypted (http)">lock_open</mat-icon>
  }
  @if (GeneralSettings.showHostInformation) {
    <span id="CurrentEntryPoint" matTooltip="{{CurrentEntryPoint}}" [ngClass]="{'isInsecure': IsInsecureConnection}">{{CurrentHost}}</span>
  }
  @if (GeneralSettings.showHostInformation) {
    <span class="spacer"></span>
  }
  @if (showSettingsIcon) {
    <app-settings-menu></app-settings-menu>
  }
  @if (userName) {
    <span>{{userName}}</span>
  }

  <button mat-icon-button matTooltip="Exit API" (click)="exitApi()">
    <mat-icon class="icon">exit_to_app</mat-icon>
  </button>
</mat-toolbar>

@if (isBusy) {
  <mat-progress-bar class="progressSpacer" mode="indeterminate" color="accent"></mat-progress-bar>
}
@if (!isBusy) {
  <div class="progressSpacer">&nbsp;</div>
}


<mat-toolbar class="apiToolbar">

  @for (link of navPaths; track link; let i = $index) {
    <button mat-raised-button matTooltip="{{link}}" (click)="navigateLink(link)" color="primary">
      {{getUrlShortName(link)}}
    </button>
    @if (i < navPaths.length-1) {
      <mat-icon>play_arrow</mat-icon>
    }
  }
</mat-toolbar>

@if (GeneralSettings.showRawTab) {
  <mat-tab-group>
    <mat-tab label="UI">
      <app-entity-view [entity]="hto"></app-entity-view>
    </mat-tab>
    <mat-tab label="Raw">
      <app-raw-view class="rawContent" [rawObject]="rawResponse"></app-raw-view>
    </mat-tab>
  </mat-tab-group>
}

@if (!GeneralSettings.showRawTab) {
  <app-entity-view [entity]="hto"></app-entity-view>
}
